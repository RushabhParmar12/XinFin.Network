/*-----------------------------------------------------
					PRELOADER
------------------------------------------------------*/
$(window).on('load', function() {	
	"use strict";	
	$("#status").delay(350).fadeOut();
	$("#preloader").delay(350).fadeOut("slow");	
});


var CURRENT_URL = window.location.href.split("?")[0],
    $BODY = $("body"),
    $MENU_TOGGLE = $("#menu_toggle"),
    $TOPHEADER_MENU = $("#topHeader-menu"),
    //$SIDEBAR_FOOTER = $(".sidebar-footer"),
    //$LEFT_COL = $(".left_col"),
    $IFRAME_COL = $(".iframe_col"),
    $TOP_MENU = $(".top-menu"),
    $FOOTER = $("footer");
$(document).ready(function() {
    var e = function() {
        $IFRAME_COL.css("min-height", $(window).height());
        var e = $BODY.outerHeight(),
            t = $BODY.hasClass("footer_fixed") ? 0 : $FOOTER.height(),
            //n = $LEFT_COL.eq(1).height() + $SIDEBAR_FOOTER.height(),
            i = n > e ? n : e;
        i -= $TOP_MENU.height() + t, $IFRAME_COL.css("min-height", i)
    };
    $TOPHEADER_MENU.find("a").on("click", function(t) {
        var n = $(this).parent();
        n.is(".active") ? (n.removeClass("active active-sm"), $("ul:first", n).slideUp(function() {
            e()
        })) : (n.parent().is(".child_menu") || ($TOPHEADER_MENU.find("li").removeClass("active active-sm"), $TOPHEADER_MENU.find("li ul").slideUp()), n.addClass("active"), $("ul:first", n).slideDown(function() {
            e()
        }))
    }), $MENU_TOGGLE.on("click", function() {
        $BODY.hasClass("nav-md") ? ($TOPHEADER_MENU.find("li.active ul").hide(), $TOPHEADER_MENU.find("li.active").addClass("active-sm").removeClass("active")) : ($TOPHEADER_MENU.find("li.active-sm ul").show(), $TOPHEADER_MENU.find("li.active-sm").addClass("active").removeClass("active-sm")), $BODY.toggleClass("nav-md nav-sm"), e()
    }), $TOPHEADER_MENU.find('a[href="' + CURRENT_URL + '"]').parent("li").addClass("current-page"), $TOPHEADER_MENU.find("a").filter(function() {
        return this.href == CURRENT_URL
    }).parent("li").addClass("current-page").parents("ul").slideDown(function() {
        e()
    }).parent().addClass("active"), $(window).smartresize(function() {
        e()
    }), e(), $.fn.mCustomScrollbar && $(".menu_fixed").mCustomScrollbar({
        autoHideScrollbar: !0,
        theme: "minimal",
        mouseWheel: {
            preventDefault: !0
        }
    })
});
var checkState = "";
$(document).ready(function() {
        $(".expand").on("click", function() {
            $(this).next().slideToggle(200), $expand = $(this).find(">:first-child"), "+" == $expand.text() ? $expand.text("-") : $expand.text("+")
        })
    }), "undefined" != typeof NProgress && ($(document).ready(function() {
        NProgress.start()
    }), $(window).load(function() {
        NProgress.done()
    })),
    function(e, t) {
        var n = function(e, t, n) {
            var i;
            return function() {
                function c() {
                    n || e.apply(a, o), i = null
                }
                var a = this,
                    o = arguments;
                i ? clearTimeout(i) : n && e.apply(a, o), i = setTimeout(c, t || 100)
            }
        };
        jQuery.fn[t] = function(e) {
            return e ? this.bind("resize", n(e)) : this.trigger(t)
        }
    }(jQuery, "smartresize");
	
	
	
	
	

// Mobile Navigation
$('.mobile-toggle').click(function() {
    if ($('.topHeader').hasClass('open-nav')) {
        $('.topHeader').removeClass('open-nav');
    } else {
        $('.topHeader').addClass('open-nav');
    }
});

$('.topHeader li a').click(function() {
    if ($('.topHeader').hasClass('open-nav')) {
        $('.navigation').removeClass('open-nav');
        $('.topHeader').removeClass('open-nav');
    }
});

const statusCardsJson = [
    {
        "key": "block",
        "title": "current block",
        "number": 551257
    },
    {
        "key": "time",
        "title": "block time",
        "number": "2.00 s"
    },
    {
        "key": "epoch",
        "title": "epoch",
        "number": 551
    },
    {
        "key": "checkpoint",
        "title": "new checkpoint",
        "number": 1800
    }
];

const transactionsJson = [
    {
        "address": "0xa9B06d4cE4EAe1112dc761f4061Fa557371778ed",
        "name": "Anonymous",
        "capacity": 52500,
        "isSigned": 561706,
        "status": "success"
    },
    {
        "address": "0xa9B06d4cE4EAe1112dc761f4061Fa557371778ed",
        "name": "Anonymous",
        "capacity": 52500,
        "isSigned": 561706,
        "status": "fail"
    },
    {
        "address": "0xa9B06d4cE4EAe1112dc761f4061Fa557371778ed",
        "name": "Anonymous",
        "capacity": 52500,
        "isSigned": 561706,
        "status": "success"
    },
    {
        "address": "0xa9B06d4cE4EAe1112dc761f4061Fa557371778ed",
        "name": "Anonymous",
        "capacity": 52500,
        "isSigned": 561706,
        "status": "success"
    },
    {
        "address": "0xa9B06d4cE4EAe1112dc761f4061Fa557371778ed",
        "name": "Anonymous",
        "capacity": 52500,
        "isSigned": 561706,
        "status": "fail"
    }
];


$(document).ready(function() {
    let statusCards = '';

    $.each(statusCardsJson, function(k,v) {
        statusCards += `
                            <li class="col-md-3 statusCard">
                                <span class="statusIcon `+v.key+`"><img src="assets/images/psd/`+v.key+`.png" /></span>
                                <p class="statusTitle">`+v.title+`</p>
                                <p class="statusNumber">#`+v.number+`</p>
                            </li>
                            `;
    });
    $('#statusCards').html(statusCards);



    let transactionRows = '';
    
    $.each(transactionsJson, function(k,v) {
        let eyeIcon = "redEye";
        if(v.status === "success") {
            eyeIcon = "greenEye";
        } else {
            eyeIcon = "redEye";
        }
        transactionRows += `
                            <tr class="transaction">
                                <td><span class="firstTd"><a href="#">`+v.address+`</a></span></td>
                                <td><span>`+v.name+`</span></td>
                                <td><span>`+v.capacity+` XDC</span></td>
                                <td><span><i class="far fa-eye `+eyeIcon+`"></i> `+v.isSigned+`</span></td>
                                <td><span><button class="masternodeBtn">Masternode</button></span></td>
                                <td><span class="lastTd"><button class="likeBtn"><i class="far fa-thumbs-up"></i></button></span></td>
                            </tr>
                            `;
    });
    $('#transactions').append(transactionRows);
});